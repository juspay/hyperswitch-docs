<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1400.6291897326926" height="1121.826369398"><desc>%20%20note%20right%20of%20User%3A%20Phase%201%3A%20Server-to-Server%20Tokenization%0A%20%20%20%20User-%3E%3EMerchant%20SDK%3A%20Enters%20Card%20Details%0A%20%20%20%20Merchant%20SDK-%3E%3EMerchant%20BE%3A%20Send%20Raw%20Card%20Data%0A%20%20%20%20%0A%20%20%20%20activate%20Merchant%20BE%0A%20%20%20%20%0A%20%20%20%20Note%20right%20of%20Merchant%20BE%3A%20Step%201%3A%20Create%20Customer%20(Optional%20but%20Recommended)%0A%20%20%20%20Merchant%20BE-%3E%3EHS%20Backend%3A%20POST%20%2Fcustomers%5Cn(email%2C%20name%2C%20etc.)%0A%20%20%20%20activate%20HS%20Backend%0A%20%20%20%20HS%20Backend--%3E%3EMerchant%20BE%3A%20Return%20customer_id%0A%20%20%20%20deactivate%20HS%20Backend%0A%0A%20%20%20%20Note%20right%20of%20Merchant%20BE%3A%20Step%202%3A%20Vault%20Card%20Data%0A%20%20%20%20Merchant%20BE-%3E%3EHS%20Backend%3A%20POST%20%2Fpayment_methods%5Cn(Body%3A%20Raw%20Card%20%2B%20customer_id)%0A%20%20%20%20%0A%20%20%20%20activate%20HS%20Backend%0A%20%20%20%20HS%20Backend-%3E%3EHS%20Vault%3A%20Securely%20Store%2FTokenize%20Card%0A%20%20%20%20activate%20HS%20Vault%0A%20%20%20%20HS%20Vault--%3E%3EHS%20Backend%3A%20Return%20Vault%20Token%0A%20%20%20%20deactivate%20HS%20Vault%0A%20%20%20%20%0A%0A%20%20%20%20HS%20Backend--%3E%3EMerchant%20BE%3A%20Return%20payment_method_id%0A%20%20%20%20deactivate%20HS%20Backend%0A%20%20%20%20deactivate%20Merchant%20BE%0A%20%20%20%20end%0A%0A%20%20%20%20rect%20rgb(255%2C%20245%2C%20238)%0A%20%20%20%20note%20right%20of%20User%3A%20Phase%202%3A%20Payment%20Execution%0A%20%20%20%20activate%20Merchant%20BE%0A%20%20%20%20Merchant%20BE-%3E%3EHS%20Backend%3A%20POST%20%2Fpayments%2Fconfirm%5Cn(payment_method_id%2C%20customer_id%2C%20amount)%0A%20%20%20%20%0A%20%20%20%20activate%20HS%20Backend%0A%20%20%20%20note%20right%20of%20HS%20Backend%3A%20Orchestration%3A%20Selects%20Connector%0A%20%20%20%20%0A%20%20%20%20HS%20Backend-%3E%3EHS%20Vault%3A%20Retrieve%20Card%20using%20Token%0A%20%20%20%20activate%20HS%20Vault%0A%20%20%20%20HS%20Vault--%3E%3EHS%20Backend%3A%20Return%20Raw%20Card%20(Securely)%0A%20%20%20%20deactivate%20HS%20Vault%0A%0A%20%20%20%20HS%20Backend-%3E%3EConnector%3A%20Authorize%20Payment%0A%20%20%20%20activate%20Connector%0A%20%20%20%20Connector--%3E%3EHS%20Backend%3A%20Payment%20Success%0A%20%20%20%20deactivate%20Connector%0A%20%20%20%20%0A%20%20%20%20HS%20Backend--%3E%3EMerchant%20BE%3A%20Payment%20Response%20(status%3A%20succeeded)%0A%20%20%20%20deactivate%20HS%20Backend%0A%20%20%20%20%0A%20%20%20%20Merchant%20BE--%3E%3EMerchant%20SDK%3A%20Show%20Success%20Screen%0A%20%20%20%20deactivate%20Merchant%20BE%0A%20%20%20%20end%0A%0A</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1400" height="1121"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 43.35894866259375 59.284222437999986 L 43.35894866259375 1121.826369398" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 366.0628971683359 59.284222437999986 L 366.0628971683359 1121.826369398" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 568.4415003949634 59.284222437999986 L 568.4415003949634 1121.826369398" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 920.5894625462004 59.284222437999986 L 920.5894625462004 1121.826369398" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1220.9567932078019 59.284222437999986 L 1220.9567932078019 1121.826369398" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1338.9273684504699 59.284222437999986 L 1338.9273684504699 1121.826369398" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878699999996 11.786477457999997 L 77.92201862518749 11.786477457999997 L 77.92201862518749 59.284222437999986 L 8.795878699999996 59.284222437999986 L 8.795878699999996 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.882935478999997" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">User</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 299.3130062218554 11.786477457999997 L 432.8127881148164 11.786477457999997 L 432.8127881148164 59.284222437999986 L 299.3130062218554 59.284222437999986 L 299.3130062218554 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="318.4000630008554" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Merchant SDK</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 506.9850969973111 11.786477457999997 L 629.8979037926158 11.786477457999997 L 629.8979037926158 59.284222437999986 L 506.9850969973111 59.284222437999986 L 506.9850969973111 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="526.0721537763111" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Merchant BE</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 860.7579675958136 11.786477457999997 L 980.4209574965871 11.786477457999997 L 980.4209574965871 59.284222437999986 L 860.7579675958136 59.284222437999986 L 860.7579675958136 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="879.8450243748136" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HS Backend</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1173.4839179473565 11.786477457999997 L 1268.4296684682472 11.786477457999997 L 1268.4296684682472 59.284222437999986 L 1173.4839179473565 59.284222437999986 L 1173.4839179473565 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1192.5709747263566" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HS Vault</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1286.0214258682472 11.786477457999997 L 1391.8333110326926 11.786477457999997 L 1391.8333110326926 59.284222437999986 L 1286.0214258682472 59.284222437999986 L 1286.0214258682472 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1305.1084826472472" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Connector</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 559.6456216949634 233.44262069799993 L 577.2373790949634 233.44262069799993 L 577.2373790949634 564.167659818 L 559.6456216949634 564.167659818 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 911.7935838462004 300.2912988179999 L 929.3853412462004 300.2912988179999 L 929.3853412462004 349.5482195379999 L 911.7935838462004 349.5482195379999 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 911.7935838462004 416.3968976579999 L 929.3853412462004 416.3968976579999 L 929.3853412462004 564.167659818 L 911.7935838462004 564.167659818 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1212.1609145078019 465.65381837799987 L 1229.7526719078019 465.65381837799987 L 1229.7526719078019 514.9107390979999 L 1212.1609145078019 514.9107390979999 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 559.6456216949634 631.0163379379999 L 577.2373790949634 631.0163379379999 L 577.2373790949634 1060.255218498 L 559.6456216949634 1060.255218498 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 911.7935838462004 697.8650160579998 L 929.3853412462004 697.8650160579998 L 929.3853412462004 1010.9982977779999 L 911.7935838462004 1010.9982977779999 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1212.1609145078019 813.9706148979998 L 1229.7526719078019 813.9706148979998 L 1229.7526719078019 863.2275356179998 L 1212.1609145078019 863.2275356179998 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1330.1314897504699 912.4844563379999 L 1347.72324715047 912.4844563379999 L 1347.72324715047 961.7413770579999 L 1330.1314897504699 961.7413770579999 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 43.35894866259375 114.69825824799997 L 52.15482736259375 114.69825824799997" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 52.15482736259375 94.46773723799997 L 341.4344368083359 94.46773723799997 L 357.2670184683359 110.30031889799997 L 357.2670184683359 134.92877925799996 L 52.15482736259375 134.92877925799996 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 341.4344368083359 94.46773723799997 L 341.4344368083359 110.30031889799997 L 357.2670184683359 110.30031889799997" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="76.78328772259374" y="119.09619759799997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Phase 1: Server-to-Server Tokenization</text></g><g><rect fill="white" stroke="none" x="138.5217213782187" y="161.31641535799994" width="132.37840307449218" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="141.1604849882187" y="177.14899701799996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Enters Card Details</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 43.35894866259375 184.18569997799995 L 363.8639274933359 184.18569997799995" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(366.0628971683359,184.18569997799995) translate(-366.0628971683359,-184.18569997799995)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 350.9910955250469 177.46204114732853 L 364.41488192851335 184.18569997799995 L 350.9910955250469 190.90935880867136" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="390.95280050914965" y="210.57333607799993" width="143.802917845" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="393.59156411914967" y="226.40591773799994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Send Raw Card Data</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 366.0628971683359 233.44262069799993 L 557.4466520199635 233.44262069799993" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(559.6456216949634,233.44262069799993) translate(-559.6456216949634,-233.44262069799993)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 544.5738200516745 226.71896186732852 L 557.997606455141 233.44262069799993 L 544.5738200516745 240.16627952867134" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="681.182397181871" y="259.83025679799994" width="120.95394933914062" height="22.86928462"/><rect fill="white" stroke="none" x="681.182397181871" y="277.42201419799994" width="126.66616857742187" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="683.821160791871" y="275.66283845799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /customers</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="683.821160791871" y="293.25459585799996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(email, name, etc.)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 577.2373790949634 300.2912988179999 L 909.5946141712004 300.2912988179999" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(911.7935838462004,300.2912988179999) translate(-911.7935838462004,-300.2912988179999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 896.7217822029114 293.56763998732856 L 910.1455686063779 300.2912988179999 L 896.7217822029114 307.01495764867127" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="677.9146817277694" y="326.6789349179999" width="133.201599485625" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="680.5534453377694" y="342.51151657799994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Return customer_id</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 911.7935838462004 349.5482195379999 L 579.4363487699634 349.5482195379999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(577.2373790949634,349.5482195379999) translate(-577.2373790949634,-349.5482195379999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 592.3091807382524 342.82456070732854 L 578.8853943347859 349.5482195379999 L 592.3091807382524 356.27187836867125" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="635.3484814714218" y="375.9358556379999" width="173.94607580398437" height="22.86928462"/><rect fill="white" stroke="none" x="635.3484814714218" y="393.5276130379999" width="218.3339999983203" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="637.9872450814217" y="391.7684372979999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /payment_methods</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="637.9872450814217" y="409.36019469799993" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(Body: Raw Card + customer_id)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 577.2373790949634 416.3968976579999 L 909.5946141712004 416.3968976579999" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(911.7935838462004,416.3968976579999) translate(-911.7935838462004,-416.3968976579999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 896.7217822029114 409.67323882732853 L 910.1455686063779 416.3968976579999 L 896.7217822029114 423.12055648867124" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="971.1694823700285" y="442.7845337579999" width="199.2072910139453" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="973.8082459800285" y="458.6171154179999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Securely Store/Tokenize Card</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 929.3853412462004 465.65381837799987 L 1209.961944832802 465.65381837799987" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1212.1609145078019,465.65381837799987) translate(-1212.1609145078019,-465.65381837799987)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1197.0891128645128 458.9301595473285 L 1210.5128992679793 465.65381837799987 L 1197.0891128645128 472.3774772086712" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="1006.3340941864348" y="492.04145447799993" width="128.8780673811328" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1008.9728577964347" y="507.87403613799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Return Vault Token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1212.1609145078019 514.9107390979999 L 931.5843109212003 514.9107390979999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(929.3853412462004,514.9107390979999) translate(-929.3853412462004,-514.9107390979999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 944.4571428894893 508.18708026732855 L 931.0333564860229 514.9107390979999 L 944.4571428894893 521.6343979286713" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="651.4186184953476" y="541.2983751979999" width="186.19372595046875" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="654.0573821053475" y="557.1309568579999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Return payment_method_id</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 911.7935838462004 564.167659818 L 579.4363487699634 564.167659818" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(577.2373790949634,564.167659818) translate(-577.2373790949634,-564.167659818)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 592.3091807382524 557.4440009873285 L 578.8853943347859 564.167659818 L 592.3091807382524 570.8913186486714" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 43.35894866259375 610.7858169279999 L 52.15482736259375 610.7858169279999" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 52.15482736259375 590.5552959179998 L 273.82533646653906 590.5552959179998 L 289.6579181265391 606.3878775779998 L 289.6579181265391 631.0163379379999 L 52.15482736259375 631.0163379379999 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 273.82533646653906 590.5552959179998 L 273.82533646653906 606.3878775779998 L 289.6579181265391 606.3878775779998" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="76.78328772259374" y="615.1837562779999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Phase 2: Payment Execution</text></g><g><rect fill="white" stroke="none" x="598.0542920182968" y="657.4039740379998" width="169.0283817121875" height="22.86928462"/><rect fill="white" stroke="none" x="598.0542920182968" y="674.9957314379998" width="292.9223636457813" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="600.6930556282967" y="673.2365556979997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /payments/confirm</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="600.6930556282967" y="690.8283130979997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(payment_method_id, customer_id, amount)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 577.2373790949634 697.8650160579998 L 909.5946141712004 697.8650160579998" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(911.7935838462004,697.8650160579998) translate(-911.7935838462004,-697.8650160579998)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 896.7217822029114 691.1413572273284 L 910.1455686063779 697.8650160579998 L 896.7217822029114 704.5886748886712" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 929.3853412462004 744.4831731679998 L 938.1812199462004 744.4831731679998" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 938.1812199462004 724.2526521579997 L 1187.532454147802 724.2526521579997 L 1203.3650358078019 740.0852338179997 L 1203.3650358078019 764.7136941779997 L 938.1812199462004 764.7136941779997 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1187.532454147802 724.2526521579997 L 1187.532454147802 740.0852338179997 L 1203.3650358078019 740.0852338179997" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="962.8096803062003" y="748.8811125179998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Orchestration: Selects Connector</text></g><g><rect fill="white" stroke="none" x="981.7600203949308" y="791.1013302779998" width="178.02621496414062" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="984.3987840049308" y="806.9339119379997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Retrieve Card using Token</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 929.3853412462004 813.9706148979998 L 1209.961944832802 813.9706148979998" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1212.1609145078019,813.9706148979998) translate(-1212.1609145078019,-813.9706148979998)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1197.0891128645128 807.2469560673284 L 1210.5128992679793 813.9706148979998 L 1197.0891128645128 820.6942737286712" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="976.0728408295012" y="840.3582509979998" width="189.400574095" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="978.7116044395011" y="856.1908326579997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Return Raw Card (Securely)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1212.1609145078019 863.2275356179998 L 931.5843109212003 863.2275356179998" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(929.3853412462004,863.2275356179998) translate(-929.3853412462004,-863.2275356179998)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 944.4571428894893 856.5038767873284 L 931.0333564860229 863.2275356179998 L 944.4571428894893 869.9511944486712" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="1065.1905442223194" y="889.6151717179998" width="129.13574255203125" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1067.8293078323195" y="905.4477533779998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Authorize Payment</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 929.3853412462004 912.4844563379999 L 1327.93252007547 912.4844563379999" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1330.1314897504699,912.4844563379999) translate(-1330.1314897504699,-912.4844563379999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1315.0596881071808 905.7607975073284 L 1328.4834745106473 912.4844563379999 L 1315.0596881071808 919.2081151686713" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="1068.4546814903858" y="938.8720924379999" width="122.60746801589843" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1071.093445100386" y="954.7046740979998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Payment Success</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1330.1314897504699 961.7413770579999 L 931.5843109212003 961.7413770579999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(929.3853412462004,961.7413770579999) translate(-929.3853412462004,-961.7413770579999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 944.4571428894893 955.0177182273285 L 931.0333564860229 961.7413770579999 L 944.4571428894893 968.4650358886713" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="611.9054043840194" y="988.1290131579999" width="265.220154173125" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="614.5441679940194" y="1003.9615948179999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Payment Response (status: succeeded)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 911.7935838462004 1010.9982977779999 L 579.4363487699634 1010.9982977779999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(577.2373790949634,1010.9982977779999) translate(-577.2373790949634,-1010.9982977779999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 592.3091807382524 1004.2746389473285 L 578.8853943347859 1010.9982977779999 L 592.3091807382524 1017.7219566086713" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="386.8798100916692" y="1037.385933878" width="151.94889867996093" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="389.5185737016692" y="1053.218515538" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Show Success Screen</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 559.6456216949634 1060.255218498 L 368.2618668433359 1060.255218498" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(366.0628971683359,1060.255218498) translate(-366.0628971683359,-1060.255218498)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 381.1346988116249 1053.5315596673286 L 367.71091240815844 1060.255218498 L 381.1346988116249 1066.9788773286714" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g></g><g/><g/><g/><g/><g/><g/></g></svg>
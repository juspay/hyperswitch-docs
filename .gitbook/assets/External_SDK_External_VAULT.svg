<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1194.273521064991" height="590.555295918"><desc>sequenceDiagram%0A%20%20%20%20autonumber%0A%0A%0A%20%20%20%20rect%20rgb(240%2C%20248%2C%20255)%0A%20%20%20%20Note%20over%20Hyperswitch%20SDK%2C%20External%20Vault%20SDK%3A%20Phase%201%3A%20Direct%20Tokenization%0Aparticipant%20Hyperswitch%20SDK%0Aparticipant%20External%20Vault%20SDK%0Aparticipant%20External%20Vault%0Aparticipant%20Merchant%20Backend%0Aparticipant%20Hyperswitch%0Aparticipant%20PSP%0A%0A%20%20%20%20Hyperswitch%20SDK-%3E%3EExternal%20Vault%20SDK%3A%20Submit%20Raw%20Card%20Data%0A%20%20%20%20Note%20right%20of%20Hyperswitch%20SDK%3A%20Bypasses%20Merchant%20Backend%3Cbr%2F%3Efor%20PCI%20scope%20reduction%0A%20%20%20%20end%0A%0A%20%20%20%20%25%25%20---%202.%20PAYMENT%20INITIATION%20---%0A%20%20%20%20rect%20rgb(255%2C%20240%2C%20245)%0A%20%20%20%20Note%20over%20Hyperswitch%20SDK%2C%20Hyperswitch%3A%20Phase%202%3A%20Payment%20Initiation%0A%20%20%20%20External%20Vault%20SDK-%3E%3EExternal%20Vault%3A%20Pass%20Raw%20Card%20Data%0A%20%20%20%20%0AExternal%20Vault-%3EMerchant%20Backend%3AReturns%20Token%20(e.g.%20tkn_vgs_888)%0A%20%20%20%20Merchant%20Backend-%3E%3EHyperswitch%3A%20%2Fpayment%20%2B%20Token%20(tkn_vgs_888)%0A%0A%20%20%20%20Note%20right%20of%20Merchant%20Backend%3A%20Payload%20includes%3A%3Cbr%2F%3Epayment_method_data%3A%20%7B%3Cbr%2F%3E%20%20token%3A%20%22tkn_vgs_888%22%3Cbr%2F%3E%7D%0A%20%20%20%20end%0A%0A%20%20%20%20%25%25%20---%203.%20ORCHESTRATION%20%26%20PROXY%20---%0A%20%20%20%20rect%20rgb(235%2C%20255%2C%20235)%0A%20%20%20%20Note%20over%20Hyperswitch%2C%20PSP%3A%20Phase%203%3A%20Proxy%20%26%20Forwarding%0A%20%20%20%20%0A%20%20%20%20Note%20over%20Hyperswitch%3A%201.%20Identifies%20Token%20Provider%3Cbr%2F%3E2.%20Constructs%20Stripe%20Request%20Payload%3Cbr%2F%3E3.%20Inserts%20Token%20into%20Payload%0A%20%20%20%20%0A%20%20%20%20Note%20right%20of%20Hyperswitch%3A%20Hyperswitch%20sends%20the%20request%3Cbr%2F%3ETHROUGH%20the%20External%20Vault%20SDK%20URL%0A%20%20%20%20%0A%20%20%20%20Note%20over%20External%20Vault%20SDK%3A%20Detokenization%3A%3Cbr%2F%3ESwaps%20%22tkn_vgs_888%22%20-%3E%20Real%20PAN%0A%20%20%20%20%0A%20%20%20%20Hyperswitch-%3E%3EExternal%20Vault%3A%20Route%20Request%20via%20External%20Vault%20Proxy%5Cnalong%20with%20Vault%20Token%20and%20PSP%20Destination%20URL%0A%20%20%20%20External%20Vault-%3E%3EPSP%3A%20Forward%20Request%20to%20PSP%20(with%20Raw%20Card%20Data)%0A%20%20%20%20PSP--%3E%3EExternal%20Vault%20SDK%3A%20Payment%20Response%20(Success%2FFail)%0A%20%20%20%20end%0A%0A%20%20%20%20%25%25%20---%204.%20RESPONSE%20HANDLING%20---%0A%20%20%20%20External%20Vault%20SDK--%3E%3EHyperswitch%3A%20Forward%20Response%0A%20%20%20%20Hyperswitch--%3E%3EHyperswitch%20SDK%3A%20Payment%20Result%0A</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1194" height="590"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 84.90868468554298 59.284222437999986 L 84.90868468554298 590.555295918" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 293.9603118000612 59.284222437999986 L 293.9603118000612 590.555295918" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 489.97685895852476 59.284222437999986 L 489.97685895852476 590.555295918" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 769.1358011365196 59.284222437999986 L 769.1358011365196 590.555295918" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1041.37277676178 59.284222437999986 L 1041.37277676178 590.555295918" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1151.7234484399949 59.284222437999986 L 1151.7234484399949 590.555295918" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878700000003 11.786477457999997 L 161.02149067108596 11.786477457999997 L 161.02149067108596 59.284222437999986 L 8.795878700000003 59.284222437999986 L 8.795878700000003 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.88293547900001" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Hyperswitch SDK</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 212.67213655182292 11.786477457999997 L 375.24848704829947 11.786477457999997 L 375.24848704829947 59.284222437999986 L 212.67213655182292 59.284222437999986 L 212.67213655182292 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="231.75919333082294" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">External Vault SDK</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 425.7967693426107 11.786477457999997 L 554.1569485744387 11.786477457999997 L 554.1569485744387 59.284222437999986 L 425.7967693426107 59.284222437999986 L 425.7967693426107 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="444.8838261216107" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">External Vault</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 688.9320909151368 11.786477457999997 L 849.3395113579024 11.786477457999997 L 849.3395113579024 59.284222437999986 L 688.9320909151368 59.284222437999986 L 688.9320909151368 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="708.0191476941368" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Merchant Backend</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 982.3680564085612 11.786477457999997 L 1100.3774971149987 11.786477457999997 L 1100.3774971149987 59.284222437999986 L 982.3680564085612 59.284222437999986 L 982.3680564085612 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1001.4551131875612" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Hyperswitch</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1117.9692545149987 11.786477457999997 L 1185.477642364991 11.786477457999997 L 1185.477642364991 59.284222437999986 L 1117.9692545149987 59.284222437999986 L 1117.9692545149987 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1137.0563112939988" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">PSP</text></g></g><g><g><rect fill="white" stroke="none" x="117.9517938979388" y="94.46773723799997" width="155.19160497878906" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="120.5905575079388" y="110.30031889799997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Submit Raw Card Data</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="108.3643612188763" y="110.30031889799997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">1 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 84.90868468554298 117.33702185799999 L 291.7613421250612 117.33702185799999" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(293.9603118000612,117.33702185799999) translate(-293.9603118000612,-117.33702185799999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 278.8885101567722 110.61336302732859 L 292.3122965602387 117.33702185799999 L 278.8885101567722 124.06068068867138" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="327.00342101245707" y="143.724657958" width="142.15652502273437" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="329.6421846224571" y="159.557239618" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Pass Raw Card Data</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="317.4159883333946" y="159.557239618" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">2 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 293.9603118000612 166.593942578 L 487.77788928352476 166.593942578" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(489.97685895852476,166.593942578) translate(-489.97685895852476,-166.593942578)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 474.90505731523575 159.87028374732859 L 488.3288437187022 166.593942578 L 474.90505731523575 173.3176014086714" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="523.0199681709206" y="192.98157867799998" width="225.29892004226562" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="525.6587317809206" y="208.814160338" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Returns Token (e.g. tkn_vgs_888)</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="513.4325354918581" y="208.814160338" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">3 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 489.97685895852476 215.85086329799998 L 754.6519208771863 215.85086329799998" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(769.1358011365196,215.85086329799998) translate(-769.1358011365196,-215.85086329799998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 754.4760033031863 208.5209643813333 L 769.1358011365196 215.85086329799998 L 754.4760033031863 223.18076221466666 Z"/></g></g><g><rect fill="white" stroke="none" x="802.1789103489155" y="242.23849939799993" width="218.37695348953125" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="804.8176739589154" y="258.07108105799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">/payment + Token (tkn_vgs_888)</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="792.5914776698529" y="258.07108105799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">4 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 769.1358011365196 265.10778401799996 L 1039.17380708678 265.10778401799996" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1041.37277676178,265.10778401799996) translate(-1041.37277676178,-265.10778401799996)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1026.300975118491 258.3841251873286 L 1039.7247615219574 265.10778401799996 L 1026.300975118491 271.8314428486713" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="609.9652305807189" y="291.49542011799997" width="261.6911624739063" height="22.86928462"/><rect fill="white" stroke="none" x="609.9652305807189" y="309.087177518" width="323.6453861067188" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="612.6039941907188" y="307.328001778" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Route Request via External Vault Proxy</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="600.3777979016563" y="307.328001778" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">5 </text></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="612.6039941907188" y="324.919759178" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">along with Vault Token and PSP Destination URL</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1041.37277676178 331.95646213799995 L 492.17582863352476 331.95646213799995" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(489.97685895852476,331.95646213799995) translate(-489.97685895852476,-331.95646213799995)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 505.04866060181376 325.2328033073286 L 491.6248741983473 331.95646213799995 L 505.04866060181376 338.6801209686713" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="671.1534448377951" y="358.34409823799996" width="311.61959875320315" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="673.792208447795" y="374.176679898" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Forward Request to PSP (with Raw Card Data)</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="661.5660121587325" y="374.176679898" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">6 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 489.97685895852476 381.21338285799993 L 1149.524478764995 381.21338285799993" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(1151.7234484399949,381.21338285799993) translate(-1151.7234484399949,-381.21338285799993)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1136.6516467967058 374.4897240273286 L 1150.0754332001723 381.21338285799993 L 1136.6516467967058 387.9370416886713" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="613.878897760028" y="407.60101895799994" width="230.1521610090625" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="616.517661370028" y="423.43360061799996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Payment Response (Success/Fail)</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="604.2914650809655" y="423.43360061799996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">7 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1151.7234484399949 430.4703035779999 L 296.1592814750612 430.4703035779999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(293.9603118000612,430.4703035779999) translate(-293.9603118000612,-430.4703035779999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 309.0321134433502 423.74664474732856 L 295.60832703988376 430.4703035779999 L 309.0321134433502 437.19396240867127" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="609.2153417060769" y="456.8579396779999" width="129.12860143875" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="611.8541053160768" y="472.69052133799994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Forward Response</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="599.6279090270143" y="472.69052133799994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">8 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 293.9603118000612 479.7272242979999 L 1039.17380708678 479.7272242979999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(1041.37277676178,479.7272242979999) translate(-1041.37277676178,-479.7272242979999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1026.300975118491 473.00356546732854 L 1039.7247615219574 479.7272242979999 L 1026.300975118491 486.45088312867125" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g><g><rect fill="white" stroke="none" x="514.8756395990131" y="506.11486039799996" width="108.75637853835937" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="517.514403209013" y="521.947442058" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Payment Result</text><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="505.28820691995054" y="521.947442058" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">9 </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1041.37277676178 528.9841450179999 L 87.10765436054298 528.9841450179999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="7.0367029599999995"/><g transform="translate(84.90868468554298,528.9841450179999) translate(-84.90868468554298,-528.9841450179999)"><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 99.98048632883194 522.2604861873285 L 86.55669992536549 528.9841450179999 L 99.98048632883194 535.7078038486713" stroke-miterlimit="10" stroke-width="1.4659797833333332"/></g></g></g><g/><g/><g/><g/><g/><g/></g></svg>